# ูุธุงู ุงูุฐุงูุฑุฉ ูุงูุณูุงู ๐ง

ูุฐุง ุงูููู ูุดุฑุญ ููููุฉ ุนูู ูุธุงู ุงูุฐุงูุฑุฉ ูุงูุณูุงู ูู ุชุทุจูู ููุฑููู.

## ูุธุฑุฉ ุนุงูุฉ

ูุธุงู ุงูุฐุงูุฑุฉ ูุณูุญ ูููุฑููู ุจู:
- **ุชุฐูุฑ ูุนูููุงุช ุงููุณุชุฎุฏู** (ุงูุงุณูุ ุงูุนูุฑุ ุงููุฏููุฉุ ุงูุงูุชูุงูุงุช)
- **ุงูุญูุงุธ ุนูู ุงูุณูุงู** (ุขุฎุฑ 10 ุฑุณุงุฆู)
- **ุงุณุชุฎุฑุงุฌ ุงููููุงุช ุงูููุชุงุญูุฉ** (ุงูุงูุชูุงูุงุช ูุงูููุงุถูุน ุงููููุฉ)
- **ุชุฎุตูุต ุงูุฑุฏูุฏ** ุจูุงุกู ุนูู ูุนูููุงุช ุงููุณุชุฎุฏู

## ุงูููููุงุช ุงูุฑุฆูุณูุฉ

### 1. ConversationManager

**ุงูููู:** `app/src/main/kotlin/com/example/korokoai/data/ConversationManager.kt`

**ุงููุณุคูููุงุช:**
- ุฅุฏุงุฑุฉ ุณุฌู ุงููุญุงุฏุซุงุช ุงููุงูู
- ุงุณุชุฎุฑุงุฌ ูุนูููุงุช ุงููุณุชุฎุฏู
- ุชุชุจุน ุงูุงูุชูุงูุงุช ูุงููููุงุช ุงูููุชุงุญูุฉ
- ุชูููุฑ ุงูุณูุงู ููู AI

**ุงูุฏูุงู ุงูุฑุฆูุณูุฉ:**
```kotlin
addMessage(message: String)           // ุฅุถุงูุฉ ุฑุณุงูุฉ ุฌุฏูุฏุฉ
getRecentMessages(count: Int): List   // ุงูุญุตูู ุนูู ุขุฎุฑ N ุฑุณุงูุฉ
getFullContext(): String              // ุงูุญุตูู ุนูู ุงูุณูุงู ุงููุงูู
getSummary(): String                  // ููุฎุต ุงููุญุงุฏุซุฉ
clearHistory()                        // ูุณุญ ุงูุณุฌู
```

### 2. UserProfile

**ุงูุจูุงูุงุช ุงููุญููุธุฉ:**
```kotlin
name: String              // ุงุณู ุงููุณุชุฎุฏู
age: Int?                 // ุนูุฑ ุงููุณุชุฎุฏู
city: String              // ูุฏููุฉ ุงููุณุชุฎุฏู
interests: List<String>   // ุงูุงูุชูุงูุงุช
favoriteTopics: List      // ุงูููุงุถูุน ุงูููุถูุฉ
conversationStyle: String // ููุท ุงูุญูุงุฑ
```

## ููููุฉ ุนูู ุงููุธุงู

### 1. ุงุณุชุฎุฑุงุฌ ุงููุนูููุงุช

ุนูุฏูุง ูุฑุณู ุงููุณุชุฎุฏู ุฑุณุงูุฉ ูุซู:
```
"ูุฑุญุจุงูุ ุงุณูู ุฃุญูุฏ ูุนูุฑู 25 ุณูุฉ ูู ุจุบุฏุงุฏุ ุฃุญุจ ุงูุฃููู ูุงูุฃูุนุงุจ"
```

ูููู ุงููุธุงู ุจู:
1. **ุงุณุชุฎุฑุงุฌ ุงูุงุณู:** "ุฃุญูุฏ"
2. **ุงุณุชุฎุฑุงุฌ ุงูุนูุฑ:** 25
3. **ุงุณุชุฎุฑุงุฌ ุงููุฏููุฉ:** "ุจุบุฏุงุฏ"
4. **ุงุณุชุฎุฑุงุฌ ุงูุงูุชูุงูุงุช:** ["ุฃููู", "ุฃูุนุงุจ"]

### 2. ุชุญุฏูุซ ูููุฐุฌ ุงูุดุฎุตูุฉ

```
UserProfile(
    name = "ุฃุญูุฏ",
    age = 25,
    city = "ุจุบุฏุงุฏ",
    interests = ["ุฃููู", "ุฃูุนุงุจ"]
)
```

### 3. ุงุณุชุฎุฏุงู ุงููุนูููุงุช ูู ุงูุฑุฏูุฏ

ุนูุฏูุง ูุฑุณู ุงููุณุชุฎุฏู ุฑุณุงูุฉ ุฌุฏูุฏุฉุ ูุชู:
1. ุงุณุชุฎุฑุงุฌ ุขุฎุฑ 10 ุฑุณุงุฆู ูู ุงูุณูุงู
2. ุฅุถุงูุฉ ูุนูููุงุช ุงููุณุชุฎุฏู ุฅูู ูููุฐุฌ ุงูุดุฎุตูุฉ (System Prompt)
3. ุฅุฑุณุงู ูู ูุฐุง ุฅูู OpenAI API
4. ุงูุญุตูู ุนูู ุฑุฏ ูุฎุตุต ุจูุงุกู ุนูู ูุนูููุงุช ุงููุณุชุฎุฏู

## ุฃูุซูุฉ ุนูู ุงูุงุณุชุฎุฑุงุฌ

### ุงุณุชุฎุฑุงุฌ ุงูุงุณู
```
ุงููุฏุฎู: "ุงุณูู ูุญูุฏ"
ุงููุชูุฌุฉ: name = "ูุญูุฏ"

ุงููุฏุฎู: "ุฃูุง ุฃุญูุฏ"
ุงููุชูุฌุฉ: ูุง ูุชู ุงุณุชุฎุฑุงุฌ (ูุญุชุงุฌ ุตูุบุฉ ูุญุฏุฏุฉ)
```

### ุงุณุชุฎุฑุงุฌ ุงูุนูุฑ
```
ุงููุฏุฎู: "ุนูุฑู 20 ุณูุฉ"
ุงููุชูุฌุฉ: age = 20

ุงููุฏุฎู: "ูุฏู 25 ุณูุฉ"
ุงููุชูุฌุฉ: ูุง ูุชู ุงุณุชุฎุฑุงุฌ (ูุญุชุงุฌ ุตูุบุฉ ูุญุฏุฏุฉ)
```

### ุงุณุชุฎุฑุงุฌ ุงูุงูุชูุงูุงุช
```
ุงููุฏุฎู: "ุฃุญุจ ุงูุฃููู ูุงูุฃูุนุงุจ"
ุงููุชูุฌุฉ: interests = ["ุฃููู", "ุฃูุนุงุจ"]

ุงููุฏุฎู: "ุฃูุง ููุชู ุจุงููุฑุงุกุฉ ูุงูุฑูุงุถุฉ"
ุงููุชูุฌุฉ: interests = ["ูุฑุงุกุฉ", "ุฑูุงุถุฉ"]
```

## ุชุญุณููุงุช ูุณุชูุจููุฉ

### 1. ุญูุธ ุงูุจูุงูุงุช ูู ูุงุนุฏุฉ ุจูุงูุงุช
```kotlin
// ุงุณุชุฎุฏุงู Room Database
@Entity
data class ConversationEntity(
    @PrimaryKey val id: Int,
    val message: String,
    val timestamp: Long
)
```

### 2. ุชุญุณูู ุงุณุชุฎุฑุงุฌ ุงููุนูููุงุช
- ุงุณุชุฎุฏุงู NLP ูุชูุฏู
- ุชุญููู ุงููุดุงุนุฑ
- ุงุณุชุฎุฑุงุฌ ุงูููุงูุงุช ุงููุณูุงุฉ (Named Entity Recognition)

### 3. ุชุนูู ุขูู
- ุชุญุณูู ุงูุฑุฏูุฏ ุจูุงุกู ุนูู ุชูููู ุงููุณุชุฎุฏู
- ุชููู ุงูุดุฎุตูุฉ ูุน ุชูุถููุงุช ุงููุณุชุฎุฏู
- ุงูุชูุจุค ุจุงูููุงุถูุน ุงูููุถูุฉ

## ุงูุฃุฏุงุก ูุงูุชุญุณููุงุช

### ุงูุญุฏ ุงูุฃูุตู ููุฑุณุงุฆู ุงููุญููุธุฉ
```kotlin
val MAX_HISTORY = 100  // ุงูุญุฏ ุงูุฃูุตู ููุฑุณุงุฆู ุงููุญููุธุฉ
val RECENT_MESSAGES = 10  // ุนุฏุฏ ุงูุฑุณุงุฆู ุงููุฑุณูุฉ ุฅูู API
```

### ุชุญุณููุงุช ุงูุฐุงูุฑุฉ
- ุงุณุชุฎุฏุงู `takeLast()` ุจุฏูุงู ูู ุญูุธ ูู ุดูุก
- ุชูุธูู ุงูุจูุงูุงุช ุงููุฏููุฉ ุชููุงุฆูุงู
- ุถุบุท ุงูุณูุงู ุนูุฏ ุงูุญุงุฌุฉ

## ุงูุฃูุงู ูุงูุฎุตูุตูุฉ

### ุญูุงูุฉ ุงูุจูุงูุงุช
- โ ุงูุจูุงูุงุช ูุญููุธุฉ ูุญููุงู ููุท
- โ ูุง ูุชู ูุดุงุฑูุฉ ูุนูููุงุช ุงููุณุชุฎุฏู ูุน ุฃุทุฑุงู ุซุงูุซุฉ
- โ ูููู ูุณุญ ุงูุจูุงูุงุช ูู ุฃู ููุช

### ุงูุฎุตูุตูุฉ
- ุงููุณุชุฎุฏู ูุชุญูู ูู ุงูุจูุงูุงุช ุงููุดุงุฑูุฉ
- ูููู ุชุนุทูู ุงุณุชุฎุฑุงุฌ ุงููุนูููุงุช
- ูููู ูุณุญ ุงูุณุฌู ูู ุฃู ููุช

## ุงูุงุณุชุฎุฏุงู ูู ุงูููุฏ

### ูู ChatViewModel:
```kotlin
fun sendMessage(userMessage: String) {
    // ุฅุถุงูุฉ ุงูุฑุณุงูุฉ ุฅูู ูุฏูุฑ ุงููุญุงุฏุซุงุช
    conversationManager.addMessage(userMessage)
    
    // ุงูุญุตูู ุนูู ุงูุณูุงู ูุงููุนูููุงุช
    val recentMessages = conversationManager.getRecentMessages(10)
    val userProfile = conversationManager.userProfile.value
    
    // ุฅุฑุณุงู ุฅูู API ูุน ุงูุณูุงู
    aiService.getKorokoResponse(
        userMessage,
        recentMessages,
        userProfile
    )
}
```

### ูู OpenAIService:
```kotlin
private fun buildSystemPrompt(userProfile: UserProfile): String {
    return buildString {
        append("ุฃูุชู ููุฑููู...")
        
        // ุฅุถุงูุฉ ูุนูููุงุช ุงููุณุชุฎุฏู
        if (userProfile.name.isNotEmpty()) {
            append("\n- ุงูุงุณู: ${userProfile.name}")
        }
        if (userProfile.interests.isNotEmpty()) {
            append("\n- ุงูุงูุชูุงูุงุช: ${userProfile.interests.joinToString(", ")}")
        }
    }
}
```

## ุงูุฎูุงุตุฉ

ูุธุงู ุงูุฐุงูุฑุฉ ูุงูุณูุงู ูุฌุนู ุงููุญุงุฏุซุงุช:
- **ุฃูุซุฑ ุดุฎุตูุฉ:** ููุฑููู ุชุชุฐูุฑ ูุนูููุงุช ุงููุณุชุฎุฏู
- **ุฃูุซุฑ ุนููุงู:** ุงูุณูุงู ูุณุงุนุฏ ูู ููู ุฃูุถู
- **ุฃูุซุฑ ุทุจูุนูุฉ:** ุงูุฑุฏูุฏ ูุฎุตุตุฉ ูููุณุชุฎุฏู
- **ุฃูุซุฑ ูุงูุนูุฉ:** ุชุดุนุฑ ููุฃูู ุชุชุญุฏุซ ูุน ุดุฎุต ุญูููู

---

**ุงุณุชูุชุน ุจุงููุญุงุฏุซุงุช ุงูุฐููุฉ! ๐**
